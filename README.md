# Python Type Annotations & mypy Examples

## üìö –û —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π —Ç–∏–ø–æ–≤ –≤ Python –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ mypy. –ü—Ä–∏–º–µ—Ä—ã —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω—ã –ø–æ —Ç–µ–º–∞–º –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –º–∞—Ç–µ—Ä–∏–∞–ª—É –∏–∑ –≤–∏–¥–µ–æ –æ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ –≤ Python.

## üß≠ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- **a/typed_vs_untyped.py** - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ —Å —Ç–∏–ø–∞–º–∏ –∏ –±–µ–∑ —Ç–∏–ø–æ–≤
- **b/simple_types.py** - –ë–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã –∏ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
- **c/new_types.py** - –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–∏–ø—ã (TypedDict, Protocol, NewType, Literal)
- **d/callable.py** - –¢–∏–ø–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (Callable, Awaitable)
- **e/classes.py** - –¢–∏–ø–∏–∑–∞—Ü–∏—è –∫–ª–∞—Å—Å–æ–≤ –∏ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ (ClassVar)
- **f/generic.py** - –î–∂–µ–Ω–µ—Ä–∏–∫–∏ —Å –Ω–æ–≤—ã–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º Python 3.12+
- **g/decorator.py** - –¢–∏–ø–∏–∑–∞—Ü–∏—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º ParamSpec
- **h/overload.py** - –ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π (@overload)
- **mypy_example.py** - –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ mypy
- **monkeytype_example.py**, **main.py** - –ü—Ä–∏–º–µ—Ä –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ MonkeyType

## ‚öôÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.12+ (–¥–ª—è –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏)
- mypy 1.8.0+ (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤)
- MonkeyType (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤)

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/yourusername/python-typing-examples.git
cd python-typing-examples
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install mypy monkeytype
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ —Å mypy

–í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∏–ø—ã –≤ –ø—Ä–∏–º–µ—Ä–∞—Ö —Å –ø–æ–º–æ—â—å—é mypy:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
mypy mypy_example.py

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
mypy a/

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
mypy .
```

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å mypy –Ω–∞ —Ñ–∞–π–ª–µ —Å –æ—à–∏–±–∫–æ–π —Ç–∏–ø–∞:
```bash
mypy mypy_example.py
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –æ—à–∏–±–∫—É:
```
mypy_example.py:5: error: Argument 1 to "greet" has incompatible type "int"; expected "str"
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ MonkeyType

MonkeyType –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```bash
# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –æ —Ç–∏–ø–∞—Ö
monkeytype run main.py

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤
monkeytype apply monkeytype_example.greet
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è mypy

–î–ª—è –ø—Ä–æ–µ–∫—Ç–∞ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å mypy —Å –ø–æ–º–æ—â—å—é —Ñ–∞–π–ª–∞ `pyproject.toml`:

```toml
[tool.mypy]
python_version = "3.12"
warn_return_any = true
warn_unused_configs = true
disallow_untyped_defs = false
disallow_incomplete_defs = false

[[tool.mypy.overrides]]
module = "tests.*"
ignore_missing_imports = true
```

## üìê –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–º–µ—Ä–æ–≤

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∏ –Ω–µ—Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ (a/typed_vs_untyped.py)

–î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç, –∫–∞–∫ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—ã–º –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å –æ—à–∏–±–∫–∏ –Ω–∞ —ç—Ç–∞–ø–µ –ø—Ä–æ–≤–µ—Ä–∫–∏.

### –ë–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã (b/simple_types.py)

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤ –≤ Python:
- –ü—Ä–æ—Å—Ç—ã–µ —Ç–∏–ø—ã: `str`, `int`, `float`, `bool`
- –ö–æ–ª–ª–µ–∫—Ü–∏–∏: `list`, `dict`, `tuple`
- Optional –∏ Union —Ç–∏–ø—ã
- –¢–∏–ø–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–∏–ø—ã (c/new_types.py)

–î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ —Ç–∏–ø–æ–≤—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:
- `Literal` –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- `TypedDict` –¥–ª—è —Å–ª–æ–≤–∞—Ä–µ–π —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
- `Protocol` –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
- `NewType` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–∏–ø–æ–≤

### –¢–∏–ø–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π (d/callable.py)

–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `Callable` –∏ `Awaitable` –¥–ª—è —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π –∏ –∫–æ—Ä—É—Ç–∏–Ω.

### –¢–∏–ø–∏–∑–∞—Ü–∏—è –∫–ª–∞—Å—Å–æ–≤ (e/classes.py)

–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–ø–æ—Å–æ–±–æ–≤ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –∫–ª–∞—Å—Å–∞.

### –î–∂–µ–Ω–µ—Ä–∏–∫–∏ (f/generic.py)

–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∂–µ–Ω–µ—Ä–∏–∫–æ–≤ (Generic Types) —Å –Ω–æ–≤—ã–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º Python 3.12+.

### –¢–∏–ø–∏–∑–∞—Ü–∏—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤ (g/decorator.py)

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ç–∏–ø–æ–≤ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è.

### –ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π (h/overload.py)

–î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `@overload` –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–∏–≥–Ω–∞—Ç—É—Ä —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–æ–≤ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ –≤ Python](https://docs.python.org/3/library/typing.html)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è mypy](https://mypy.readthedocs.io/)
- [PEP 484 - Type Hints](https://www.python.org/dev/peps/pep-0484/)
- [PEP 585 - Type Hinting Generics In Standard Collections](https://www.python.org/dev/peps/pep-0585/)
- [PEP 604 - Allow writing union types as X | Y](https://www.python.org/dev/peps/pep-0604/)
- [PEP 695 - Type Parameter Syntax](https://peps.python.org/pep-0695/)

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–ú–æ–π Telegram-–∫–∞–Ω–∞–ª](https://t.me/pavlin_share)
- [Boosty —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏](https://boosty.to/nikolay-pavlin)
- [YouTube-–∫–∞–Ω–∞–ª —Å –æ–±—É—á–∞—é—â–∏–º–∏ –≤–∏–¥–µ–æ](https://www.youtube.com/channel/UC2da0IeXHw5kTu-Q_qDFMeQ)
- [FastAPI —à–∞–±–ª–æ–Ω —Å —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π](https://t.me/pavlin_share/179)
